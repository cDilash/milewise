<nav class="nav-container">
    <div class="nav-content">
        <!-- Logo and Brand -->
        <a href="index.html" class="brand-logo">
            <div class="logo-icon">
                <i class="fas fa-route"></i>
            </div>
            <div class="brand-text">
                <span class="brand-name">MileWise</span>
                <span class="brand-tagline">Smart Ride-Sharing</span>
            </div>
        </a>

        <!-- Navigation Links -->
        <div class="nav-links">
            <a href="index.html" class="nav-link" data-page="home">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="dashboard.html" class="nav-link" data-page="dashboard">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </a>
            <a href="expenses.html" class="nav-link" data-page="expenses">
                <i class="fas fa-calculator"></i>
                <span>Expenses</span>
            </a>
            <a href="history.html" class="nav-link" data-page="history">
                <i class="fas fa-history"></i>
                <span>History</span>
            </a>
        </div>

        <!-- Right Side Controls -->
        <div class="nav-controls">
            <div class="online-status">
                <span class="status-dot"></span>
                <span>Online</span>
            </div>
            <button onclick="utils.toggleDarkMode()" class="theme-toggle" title="Toggle Dark Mode">
                <i class="fas fa-moon"></i>
            </button>
            <button class="mobile-menu-btn" onclick="utils.toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div class="mobile-menu hidden" id="mobileMenu">
        <a href="index.html" class="mobile-link">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </a>
        <a href="dashboard.html" class="mobile-link">
            <i class="fas fa-tachometer-alt"></i>
            <span>Dashboard</span>
        </a>
        <a href="expenses.html" class="mobile-link">
            <i class="fas fa-calculator"></i>
            <span>Expenses</span>
        </a>
        <a href="history.html" class="mobile-link">
            <i class="fas fa-history"></i>
            <span>History</span>
        </a>
    </div>
</nav>

<!-- Add spacing after nav -->
<div class="nav-spacer"></div>

<style>
.nav-container {
    background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
    box-shadow: var(--shadow-lg);
}

.nav-content {
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    padding: 0.75rem 1rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.nav-link {
    padding: 0.5rem 0.75rem;
    border-radius: var(--radius-md);
    color: rgba(255, 255, 255, 0.9);
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
}

.nav-link:hover {
    background: rgba(255, 255, 255, 0.1);
    color: white;
}

.nav-link.active {
    background: rgba(255, 255, 255, 0.2);
    color: white;
}

.mobile-link {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    color: rgba(255, 255, 255, 0.9);
    border-radius: var(--radius-md);
    transition: all 0.2s ease;
    font-size: 0.875rem;
}

.mobile-link:hover {
    background: rgba(255, 255, 255, 0.1);
    color: white;
}

.mobile-link.active {
    background: rgba(255, 255, 255, 0.2);
    color: white;
}

.theme-toggle {
    padding: 0.5rem;
    border-radius: var(--radius-md);
    background: rgba(255, 255, 255, 0.1);
    color: white;
    transition: all 0.2s ease;
}

.theme-toggle:hover {
    background: rgba(255, 255, 255, 0.2);
}

.mobile-menu {
    display: none;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
}

.mobile-menu.show {
    display: block;
}

/* Dark mode adjustments */
.dark-mode .nav-container {
    background: linear-gradient(to right, var(--background-dark), var(--card-dark));
}

.dark-mode .mobile-menu {
    background: linear-gradient(to right, var(--background-dark), var(--card-dark));
}

/* Media queries */
@media (min-width: 768px) {
    .nav-links {
        display: flex;
    }
    
    .mobile-menu-btn {
        display: none;
    }
}

@media (max-width: 767px) {
    .nav-links {
        display: none;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const currentPage = window.location.pathname.split('/').pop().split('.')[0] || 'index';
    document.querySelectorAll('.nav-link, .mobile-link').forEach(link => {
        if (link.getAttribute('href').includes(currentPage)) {
            link.classList.add('active');
        }
    });
});

function toggleMobileMenu() {
    const mobileMenu = document.getElementById('mobileMenu');
    mobileMenu.classList.toggle('hidden');
}

// Close mobile menu when clicking outside
document.addEventListener('click', function(event) {
    const mobileMenu = document.getElementById('mobileMenu');
    const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
    if (mobileMenu && !mobileMenu.contains(event.target) && !mobileMenuBtn.contains(event.target)) {
        mobileMenu.classList.add('hidden');
    }
});
</script>
